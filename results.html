<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Your Personalized Plan - ObesityCare</title>

  <!-- Main CSS (your existing) + results page styles appended -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Icons (optional) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- jsPDF & html2canvas for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <!-- Responsive tweaks for mobile -->
  <style>
    :root { --content-max: 980px; --gap: 12px; --card-pad: 14px; }

    body { -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    .results-main { padding: 16px; box-sizing: border-box; margin: 0 auto; max-width: var(--content-max); }
    .results-header { padding: 8px 0 12px; }
    .results-header h1 { font-size: 1.25rem; margin: 0 0 6px; }
    .results-header p { margin: 0; color: #444; font-size: 0.95rem; }

    .results-intro { padding: 8px 6px; }

    .cards-wrapper {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      margin-top: 12px;
    }

    .card {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.06);
      overflow: hidden;
    }
    .card-header {
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px;
      gap: 8px;
    }
    .card-header h2 { font-size: 1rem; margin:0; }
    .card-body { padding: 0 12px 12px 12px; }
    .card-body.collapsed { display:none; }

    .actions { display:flex; gap:8px; padding-top:12px; }
    .actions .btn { white-space:normal; }

    /* Make buttons and actions stack nicely on small screens */
    .btn { padding: 10px 12px; border-radius: 8px; font-weight:600; cursor:pointer; }

    /* Navbar responsive */
    header nav.navbar { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; box-sizing:border-box; }
    .nav-links { display:flex; gap:12px; align-items:center; }

    /* Small screens */
    @media (max-width: 700px) {
      .results-main { padding: 12px; }
      .results-header h1 { font-size: 1.1rem; }
      .cards-wrapper { grid-template-columns: 1fr; }
      .actions { flex-direction: column; }
      .actions .btn { width: 100%; }
      .card-header { padding: 10px; }
      .card-body { padding: 10px; }
      .results-intro { padding: 8px 4px; }
      header nav.navbar { padding: 10px 12px; }
      .nav-links { flex-direction: row; gap:8px; font-size: 0.95rem; }
    }

    /* Larger screens: two-column layout for cards */
    @media (min-width: 900px) {
      .cards-wrapper { grid-template-columns: 1fr 1fr; }
      .results-header h1 { font-size: 1.4rem; }
    }

    @media (max-width: 900px) {
      /* treat tablets (<=900px) like mobile: stack actions & full-width buttons */
      .actions { flex-direction: column; }
      .actions .btn { width: 100%; }
      .results-header h1 { font-size: 1.15rem; }
      .card-header { padding: 10px; }
      .card-body { padding: 10px; }
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="logo">ObesityCare</div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="quiz.html">Quiz</a></li>
        <li><a href="results.html" class="active">Results</a></li>
      </ul>
    </nav>
  </header>

  <main class="results-main">
    <header class="results-header">
      <h1>Your Personalized Health Plan</h1>
      <p>Customized 5-day meal & workout plans — downloadable as PDFs</p>
    </header>

    <div class="results-intro" style="max-width:900px;margin:18px auto;padding:0 16px;">
      <p><strong>Thank you for completing the quiz.</strong></p>
      <p>Click the link below to ask ChatGPT to generate a personalized 5‑day meal and workout plan based on your answers.</p>
      <p>
        <a id="chatgptLink" href="#" target="_blank" rel="noopener noreferrer" class="btn">Open ChatGPT with my info</a>
        <button id="copyPrompt" class="btn" style="margin-left:8px;">Copy prompt</button>
      </p>

      <!-- Calorie calculator results (populated by results.js) -->
      <div id="calorieInfo" style="margin-top:12px; font-weight:600;"></div>
    </div>

    <section class="cards-wrapper">

      <!-- BMI Card -->
      <article class="card" id="card-bmi">
        <header class="card-header">
          <h2>Body Mass Index (BMI)</h2>
          <button class="toggle-btn" data-target="bmi-body">Show</button>
        </header>
        <div id="bmi-body" class="card-body collapsed">
          <p id="resultText">Loading your plan...</p>
          <div id="bmi-bar" class="bmi-bar">
            <div class="bmi-fill" id="bmiFill"></div>
          </div>
        </div>
      </article>

      <!-- Meal Plan Card -->
      <article class="card" id="card-meal">
        <header class="card-header">
          <h2>5-Day Meal Plan</h2>
          <button class="toggle-btn" data-target="meal-body">Show</button>
        </header>
        <div id="meal-body" class="card-body collapsed">
          <div id="mealPlan"></div>
          <div class="actions">
            <button id="downloadMealPdf" class="btn">Download Meal Plan (PDF)</button>
          </div>
        </div>
      </article>

      <!-- Workout Plan Card -->
      <article class="card" id="card-workout">
        <header class="card-header">
          <h2>5-Day Workout Plan</h2>
          <button class="toggle-btn" data-target="workout-body">Show</button>
        </header>
        <div id="workout-body" class="card-body collapsed">
          <div id="workoutPlan"></div>
          <div class="actions">
            <button id="downloadWorkoutPdf" class="btn">Download Workout Plan (PDF)</button>
          </div>
        </div>
      </article>

      <!-- Recommendations & Share -->
      <article class="card" id="card-extra">
        <header class="card-header">
          <h2>Recommendations & Share</h2>
          <button class="toggle-btn" data-target="extra-body">Show</button>
        </header>
        <div id="extra-body" class="card-body collapsed">
          <div id="recommendations"></div>
          <div class="actions">
            <button id="shareWhatsApp" class="btn green"><i class="fab fa-whatsapp"></i> Share via WhatsApp</button>
          </div>
        </div>
      </article>

    </section>
  </main>

  <footer>
    <p>© 2025 ObesityCare. All rights reserved.</p>
  </footer>

  <!-- Results script (make sure this file exists at js/results.js) -->
  <script src="js/results.js"></script>
  <script src="js/script.js"></script>
</body>
</html>